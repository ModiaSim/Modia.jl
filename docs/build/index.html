<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Home · TinyModia</title><script data-outdated-warner src="assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.039/juliamono-regular.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.11/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="index.html">TinyModia</a></span></div><form class="docs-search" action="search.html"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li class="is-active"><a class="tocitem" href="index.html">Home</a><ul class="internal"><li><a class="tocitem" href="#Installation"><span>Installation</span></a></li><li><a class="tocitem" href="#Release-Notes"><span>Release Notes</span></a></li><li><a class="tocitem" href="#Main-developers"><span>Main developers</span></a></li></ul></li><li><span class="tocitem">Tutorial</span><ul><li><a class="tocitem" href="tutorial/Tutorial.html">TinyModia Tutorial</a></li><li><a class="tocitem" href="tutorial/GettingStarted.html">1 Getting Started</a></li><li><a class="tocitem" href="tutorial/Modeling.html">2 Modeling</a></li><li><a class="tocitem" href="tutorial/Simulation.html">3 Simulation</a></li><li><a class="tocitem" href="tutorial/FloatingPointTypes.html">4 Floating Point Types</a></li><li><a class="tocitem" href="tutorial/Appendix.html">Appendix A</a></li></ul></li><li><a class="tocitem" href="Functions.html">Functions</a></li><li><a class="tocitem" href="Internal.html">Internal</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href="index.html">Home</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href="index.html">Home</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/ModiaSim/TinyModia.jl/blob/master/docs/src/index.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="TinyModia-Documentation"><a class="docs-heading-anchor" href="#TinyModia-Documentation">TinyModia Documentation</a><a id="TinyModia-Documentation-1"></a><a class="docs-heading-anchor-permalink" href="#TinyModia-Documentation" title="Permalink"></a></h1><p><a href="https://github.com/ModiaSim/TinyModia.jl">TinyModia</a> is a minimalistic environment in form of a Julia package to model and simulate physical systems (electrical, mechanical, thermo-dynamical, etc.) described by differential and algebraic equations. A user defines a model on a high level with model components (like a mechanical body, an electrical resistance, or a pipe) that are physically connected together. A model component is constructed by &quot;expression = expression&quot; equations. The defined model is symbolically processed (for example, equations might be analytically differentiated) with algorithms from package <a href="https://github.com/ModiaSim/ModiaBase.jl">ModiaBase.jl</a>. From the transformed model a Julia function is generated that is used to simulate the model with integrators from <a href="https://github.com/SciML/DifferentialEquations.jl">DifferentialEquations.jl</a>. The basic type of the floating point variables is usually <code>Float64</code>, but can be set to any type <code>FloatType&lt;:AbstractFloat</code> via <code>@instantiateModel(..., FloatType = xxx)</code>, for example it can be set to <code>Float32, DoubleFloat, Measurement{Float64}, StaticParticles{Float64,100}</code>.</p><h2 id="Installation"><a class="docs-heading-anchor" href="#Installation">Installation</a><a id="Installation-1"></a><a class="docs-heading-anchor-permalink" href="#Installation" title="Permalink"></a></h2><p>The package is registered and is installed with (Julia &gt;= 1.5 is required):</p><pre><code class="language-julia hljs">julia&gt; ]add TinyModia</code></pre><p>Furthermore, one or more of the following packages should be installed in order  to be able to generate plots:</p><pre><code class="language-julia hljs">julia&gt; ]add ModiaPlot_PyPlot        # if plotting with PyPlot desired
        add ModiaPlot_GLMakie       # if plotting with GLMakie desired
        add ModiaPlot_WGLMakie      # if plotting with WGLMakie desired
        add ModiaPlot_CairoMakie    # if plotting with CairoMakie desired</code></pre><p>It is recommended to also add the following packages, in order that all tests and examples can be executed in your standard environment:</p><pre><code class="language-julia hljs">julia&gt; ]add Unitful, DifferentialEquations, Measurements
        add MonteCarloMeasurements, Distributions</code></pre><h2 id="Release-Notes"><a class="docs-heading-anchor" href="#Release-Notes">Release Notes</a><a id="Release-Notes-1"></a><a class="docs-heading-anchor-permalink" href="#Release-Notes" title="Permalink"></a></h2><h3 id="Version-0.8.0"><a class="docs-heading-anchor" href="#Version-0.8.0">Version 0.8.0</a><a id="Version-0.8.0-1"></a><a class="docs-heading-anchor-permalink" href="#Version-0.8.0" title="Permalink"></a></h3><ul><li>Improved scalability by using OrderedDicts instead of named tuples for models, variables and parameter modifications.</li><li>Speed improvements for structural and symbolic algorithms.</li><li>Added support for state events, time events and synchronous operators.</li><li>Added support for mixed linear equation systems having Real and Boolean unknowns.</li><li>Added support for user-defined components defined by structs and functions (multibody modeling with Modia3D is based on this feature). This makes it possible to utilize algorithms specialized for a component.</li><li>Added support for numerical and analytic linearization.</li><li>Added support for propagation of parameters (e.g. deep in a model, the value of a parameter can be defined as a function of some top level parameter and this parameter is changed before simulation starts).</li><li>New small model libraries Translational.jl and PathPlanning.jl added.</li><li>Result storage changed: <code>sol = simulate!(...)</code> calls internally <code>sol = solve(..)</code> from   DifferentialEquations.jl. <code>sol</code> contains time and the states at the communication time grid and at events. This is now kept in simulate(..), so the return value of simulate!(..) can be exactly used as if <code>solve(..)</code> would have been used directly.</li><li>The plot(..) command now supports the following underlying plot packages:  <a href="https://github.com/JuliaPy/PyPlot.jl">PyPlot</a>, <a href="https://github.com/JuliaPlots/GLMakie.jl">GLMakie</a>, <a href="https://github.com/JuliaPlots/WGLMakie.jl">WGLMakie</a>, and <a href="https://github.com/JuliaPlots/CairoMakie.jl">CairoMakie</a>. It is also possible to select <code>NoPlot</code>, to ignore <code>plot(..)</code> calls  or <code>SilenNoPlot</code> to ignore <code>plot(..)</code> calls silently. The latter is useful for <code>runtests.jl</code>. Note, often <a href="https://github.com/JuliaPy/PyPlot.jl">PyPlot</a> is the best choice.</li></ul><p>Changes that are <strong>not backwards compatible</strong> to version 0.7.x:</p><ul><li>Models are OrderedDicts and no longer NamedTuples.</li></ul><ul><li>simulate!(..): <ul><li>If FloatType=Float64 and no algorithm is defined, then Sundials.CVODE_BDF() is used instead of the default algorithm of DifferentialEquations as in 0.7. The reason is that Modia models are usually large and expensive to evaluate and have often stiff parts, so that multi-step methods are often by far the best choice. CVODE_BDF() seems to be a good choice in many applications (another algorithm should be used, if there are many events, highly oscillatory vibrations, or if all states are non-stiff). </li><li>The default value of <code>stopTime</code> is equal to <code>startTime</code> (which has a default value of 0.0 s), and is no longer 1.0 s.</li></ul></li></ul><ul><li>Plotting is defined slightly differently (<code>@useModiaPlot</code>, instead of <code>using ModiaPlot</code>).</li></ul><h3 id="Version-0.7.3"><a class="docs-heading-anchor" href="#Version-0.7.3">Version 0.7.3</a><a id="Version-0.7.3-1"></a><a class="docs-heading-anchor-permalink" href="#Version-0.7.3" title="Permalink"></a></h3><ul><li>Evaluation and propagation of parameter expressions (also in simulate!(..., merge=Map(...))). Propagation of start/init values of states is not yet supported.</li></ul><ul><li>State events supported.</li></ul><h3 id="Version-0.7.2"><a class="docs-heading-anchor" href="#Version-0.7.2">Version 0.7.2</a><a id="Version-0.7.2-1"></a><a class="docs-heading-anchor-permalink" href="#Version-0.7.2" title="Permalink"></a></h3><ul><li>Missing dependency of Test package added.</li></ul><h3 id="Version-0.7.1"><a class="docs-heading-anchor" href="#Version-0.7.1">Version 0.7.1</a><a id="Version-0.7.1-1"></a><a class="docs-heading-anchor-permalink" href="#Version-0.7.1" title="Permalink"></a></h3><ul><li>Variable constructor <code>Var(...)</code> introduced. For example: <code>v = input | Var(init = 1.2u&quot;m&quot;)</code>.  For details see section <a href="tutorial/Appendix.html#A.1-Var-constructor">A.1 Var constructor</a>.</li></ul><ul><li>Functions are called in the scope where macro <a href="Functions.html#TinyModia.@instantiateModel"><code>@instantiateModel</code></a> is called.</li></ul><ul><li>New arguments of function <a href="Functions.html#TinyModia.simulate!"><code>simulate!</code></a>:<ul><li>Parameter and init/start values can be changed with argument <code>merge</code>.</li><li>A simulation can be checked with argument <code>requiredFinalStates</code>.</li><li>Argument <code>logParameters</code> lists the parameter and init/start values used for the simulation.</li><li>Argument <code>logStates</code> lists the states, init, and nominal values used for the simulation.</li></ul></li></ul><ul><li><code>end</code> in array ranges is supported, for example <code>v[2:end]</code>.</li></ul><ul><li>New (small) model library <code>TinyModia/models/HeatTransfer.jl</code>.</li></ul><ul><li>TinyModia Tutorial improved.</li></ul><ul><li><a href="Functions.html#Functions">Functions</a> docu improved.</li></ul><h3 id="Version-0.7.0"><a class="docs-heading-anchor" href="#Version-0.7.0">Version 0.7.0</a><a id="Version-0.7.0-1"></a><a class="docs-heading-anchor-permalink" href="#Version-0.7.0" title="Permalink"></a></h3><ul><li>Initial version, based on code developed for Modia 0.6 and ModiaMath 0.6.</li></ul><h2 id="Main-developers"><a class="docs-heading-anchor" href="#Main-developers">Main developers</a><a id="Main-developers-1"></a><a class="docs-heading-anchor-permalink" href="#Main-developers" title="Permalink"></a></h2><ul><li><a href="mailto:Hilding.Elmqvist@Mogram.net">Hilding Elmqvist</a>, <a href="http://www.mogram.net/">Mogram</a>.</li></ul><ul><li><a href="https://rmc.dlr.de/sr/en/staff/martin.otter/">Martin Otter</a>, <a href="https://www.dlr.de/sr/en">DLR - Institute of System Dynamics and Control</a>.</li></ul></article><nav class="docs-footer"><a class="docs-footer-nextpage" href="tutorial/Tutorial.html">TinyModia Tutorial »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.4 on <span class="colophon-date" title="Saturday 24 July 2021 19:21">Saturday 24 July 2021</span>. Using Julia version 1.6.0.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
